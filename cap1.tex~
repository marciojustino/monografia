\chapter{NTFS}
Projetado pela Microsoft, é o sistema de arquivos padrão de vários sistemas operacionais Microsoft desde a versão do Microsoft Windows NT (1993) até as versões mais recentes como o Windows 8 (2012). Sendo o predecessor do antigo sistema FAT, é o sistema mais presente em investigações de sistemas Windows \cite{ForensicAnalysis}.

\section{Conceito}
O sistema de arquivos NTFS foi projetado para melhor confiabilidade, segurança e suporte de grandes dispositivos de armazenamento de dados. Dispõe do uso de estruturas genéricas que servem de envoltório para estruturas de dados com conteúdo específico. Desta forma, o NTFS se torna um projeto escalável pois a estrutura interna de dados pode mudar inúmeras vezes enquanto que a sua casca (a estrutura genérica) permanece constante. Um bom exemplo desse modelo é que todos os bytes\footnote{Termo binário que representa 8 unidades da menor unidade de informação (bit) que pode ser armazenada ou transmitida \cite{WikiBytes}.} são alocados em arquivos no sistema \cite{ForensicAnalysis}.

\section{Estrutura de Dados}
Segundo Carrier (2005, p. 199)\nocite{ForensicAnalysis}, a única estrutura consistente no NTFS está presente nos primeiros setores do disco, contendo os setores de boot e código.

O coração do sistema de arquivos NTFS está na Master File Table (MFT) pois esta contém as informações de todos os diretórios. Todo arquivo e diretório existente possui uma entrada na MFT, sendo que esta é uma estrutura bem simples de 1 KB de tamanho. A Entrada na MFT possui:

\begin{itemize}
 \item Cabeçalho;
 \item Atributos; e
 \item Espaço não utilizado.
\end{itemize}

A figura \ref{fig:fig02} demonstra um registro de entrada na MFT.

\begin{figure}[htp]
  \centering
  \includegraphics[scale=0.6]{figuras/fig02.png}
  \caption{Entrada na MFT - Cabeçalho e espaço reservado aos diferentes tipos de atributos. Para o exemplo, a entrada possui 3 atributos.}
  \label{fig:fig02}
\end{figure}

\subsection{Cluster}
De acordo com Svensson (2005, p. 25), um disco rídigo é dividido em setores sendo que o sistema de arquivos se utiliza de setores para formar um cluster. O tamanho do cluster depende da formatação do disco. A tabela abaixo demonstra tamnhos padrões definidos para cluster para diferentes formas de formatação do disco NTFS:

\begin{table}
  \centering  
  \begin{tabular}{ll}
    \hline
    Tamanho do Disco & Tamanho do Cluster Padrão \\
    \hline
    até 512 MB & 512 bytes \\
    513 MB - 1024 MB & 1 KB \\
    1025 MB - 2048 MB & 2 KB \\
    acima de 2048 MB & 4 KB \\
    \hline
  \end{tabular}
  \label{tab1}
  \caption{Tamanho do Cluster Padrão Para Formatos NTFS.}
\end{table}

\section{Alocação de Arquivos}
...

\section{Análise NTFS}
...